# ç¬¬ä¸‰ä»½ï¼ˆ3/3ï¼‰ï¼šå•†å®¶ç«¯
```markdown
## ğŸª ã€å•†å®¶ç«¯ã€‘
### 1. ç”¨æˆ¶åˆ¥åç¨±ï¼šä¼æ¥­ç«¯ â†’ å•†å®¶ç«¯ âš ï¸ å‰ç«¯å·¥ä½œ
**å‰ç«¯éœ€å¯¦ç¾ï¼š**
```typescript
// æœå°‹ä¸¦æ›¿æ›æ‰€æœ‰ã€Œä¼æ¥­ç«¯ã€ç‚ºã€Œå•†å®¶ç«¯ã€
// åŒ…å«ï¼šç™»å…¥é è§’è‰²é¸æ“‡ã€ç¿»è­¯æª”æ¡ˆã€å°èˆªé¸å–®
æª¢æŸ¥é …ç›®ï¼š

 å…¨åŸŸæœå°‹æ›¿æ›
2. å•†å®¶è³‡æ–™åº«æ¬„ä½ âœ… å¾Œç«¯å·²å®Œæˆ
è³‡æ–™çµæ§‹ï¼š

interface MerchantProfile {
  ownerName: string;       // è² è²¬äººå§“å
  businessName: string;    // å•†å®¶åç¨±
  taxId?: string;          // çµ±ä¸€ç·¨è™Ÿï¼ˆé¸å¡«ï¼‰
  businessCategory: string; // ç‡Ÿæ¥­é¡åˆ¥
  address: string;         // åœ°é»
  phone?: string;          // é›»è©±
  mobile: string;          // æ‰‹æ©Ÿ
  email: string;           // Email
}
3. å•†å®¶è¨»å†Šé€å¯©æµç¨‹ âœ… å¾Œç«¯å·²å®Œæˆ
å¾Œç«¯ APIï¼š

POST /api/merchant/register
Body: MerchantProfile
Response: {
  success: true,
  merchant: { id, status: 'pending' }
}
å‰ç«¯éœ€å¯¦ç¾ï¼š

é¡¯ç¤ºå®Œæ•´è¡¨å–®ï¼ˆ8 å€‹æ¬„ä½ï¼‰
ã€Œå–æ¶ˆã€æŒ‰éˆ• â†’ è·³å›åˆå§‹é é¢
ã€Œé€å¯©ã€æŒ‰éˆ• â†’ å‘¼å« API â†’ é¡¯ç¤ºã€Œé€å¯©æˆåŠŸã€â†’ è·³å›åˆå§‹é é¢
å¯©æ ¸é€šéå‰ï¼Œç„¡æ³•ä½¿ç”¨å•†å®¶åŠŸèƒ½
æª¢æŸ¥é …ç›®ï¼š

 å•†å®¶è¨»å†Šè¡¨å–®
 å–æ¶ˆ/é€å¯©æŒ‰éˆ•
 é€å¯©æˆåŠŸæç¤º
4. è¨˜æ†¶å¸³è™Ÿå¯†ç¢¼ âš ï¸ éœ€å‰ç«¯å¯¦ç¾
å‰ç«¯éœ€å¯¦ç¾ï¼š

import * as SecureStore from 'expo-secure-store';
// 1. ç™»å…¥é æ–°å¢ã€Œè¨˜ä½æˆ‘ã€checkbox
// 2. å‹¾é¸å¾Œï¼Œå„²å­˜å¸³è™Ÿå¯†ç¢¼åˆ° SecureStore
// 3. ä¸‹æ¬¡é–‹å•Ÿ App è‡ªå‹•å¡«å…¥
const saveCredentials = async (email: string, password: string) => {
  await SecureStore.setItemAsync('savedEmail', email);
  await SecureStore.setItemAsync('savedPassword', password);
};
æª¢æŸ¥é …ç›®ï¼š

 æ–°å¢ã€Œè¨˜ä½æˆ‘ã€é¸é …
 å®‰å…¨å„²å­˜æ†‘è­‰
 è‡ªå‹•å¡«å…¥
5. Google ç™»å…¥å¾Œå•†å®¶è³‡æ–™å¡«å¯« âš ï¸ éœ€å‰ç«¯å¯¦ç¾
å¾Œç«¯ APIï¼š

GET /api/merchant/me
# å¦‚æœå›å‚³ merchant: nullï¼Œè¡¨ç¤ºéœ€è¦å¡«å¯«è³‡æ–™
å‰ç«¯éœ€å¯¦ç¾ï¼š

Google ç™»å…¥å¾Œå‘¼å« GET /api/merchant/me
å¦‚æœ merchant ç‚ºç©º â†’ å°å‘å•†å®¶è³‡æ–™å¡«å¯«é 
å¡«å¯«å®Œæˆ â†’ é€å¯© â†’ è¿”å›åˆå§‹é é¢
å¯©æ ¸é€šéå¾Œæ‰èƒ½ç”¨ Google ç™»å…¥é€²å…¥å•†å®¶åŠŸèƒ½
æª¢æŸ¥é …ç›®ï¼š

 ç™»å…¥å¾Œæª¢æŸ¥å•†å®¶è³‡æ–™
 å°å‘å¡«å¯«é é¢
 é€å¯©æµç¨‹
ğŸª ã€å•†å®¶åŠŸèƒ½ã€‘
1. æ•¸æ“šåˆ†æ âš ï¸ å¾Œç«¯éƒ¨åˆ†å®Œæˆ
å¾Œç«¯ APIï¼š

GET /api/merchant/analytics
ç›®å‰å›å‚³ï¼š

{
  totalPlaces: number,
  activePlaces: number,
  pendingPlaces: number,
  promoActivePlaces: number
}
âŒ å¾Œç«¯éœ€æ–°å¢çš„æŒ‡æ¨™ï¼ˆå¾…é–‹ç™¼ï¼‰ï¼š

{
  dailyCollectionCount: number,   // æ¯æ—¥è¢«æ”¶éŒ„åœ–é‘‘äººæ•¸
  totalCollectionUsers: number,   // å·²æœ‰åœ–é‘‘å¡äººæ•¸
  collectionClickCount: number,   // åœ–é‘‘è¢«é»æ“Šæ¬¡æ•¸
  couponUsageRate: number,        // å„ªæƒ åˆ¸ä½¿ç”¨ç‡
  couponTotalUsed: number,        // å„ªæƒ åˆ¸ç¸½ä½¿ç”¨æ¬¡æ•¸
  prizePoolViewCount: number,     // è¢«æŸ¥çœ‹çæ± äººæ•¸
}
æª¢æŸ¥é …ç›®ï¼š

 æ•¸æ“šåˆ†æå„€è¡¨æ¿é é¢
 é¡¯ç¤ºå„é …çµ±è¨ˆæ•¸æ“š
2. è¡Œç¨‹å¡ç®¡ç† âœ… å¾Œç«¯å·²å®Œæˆ
å¾Œç«¯ APIï¼š

GET /api/merchant/places                    # å–å¾—å•†å®¶è¡Œç¨‹å¡
POST /api/merchant/place-drafts             # æ–°å¢è¡Œç¨‹å¡ï¼ˆé€å¯©ï¼‰
GET /api/merchant/place-drafts              # å–å¾—è‰ç¨¿
æ–°å¢è¡Œç¨‹å¡ Bodyï¼š

{
  placeName: string,
  description?: string,
  categoryId: number,          // å…«å¤§ç¨®é¡ï¼ˆä¸‹æ‹‰é¸æ“‡ï¼‰
  subcategoryId: number,
  districtId: number,
  regionId: number,
  countryId: number,
  googlePlaceId?: string,      // Google åœ°åœ–é€£çµçš„ place_id
  locationLat?: string,
  locationLng?: string,
}
å‰ç«¯éœ€å¯¦ç¾ï¼š

åˆ—è¡¨é¡¯ç¤ºå·²æœ‰è¡Œç¨‹å¡
å³ä¸‹è§’ã€Œ+ã€æŒ‰éˆ•æ–°å¢
æ–°å¢è¡¨å–®ï¼šåç¨±ã€ä»‹ç´¹ã€åˆ†é¡ï¼ˆä¸‹æ‹‰ï¼‰ã€Google åœ°åœ–é€£çµ
ã€Œé€å¯©ã€æŒ‰éˆ•
æª¢æŸ¥é …ç›®ï¼š

 è¡Œç¨‹å¡åˆ—è¡¨é 
 æ–°å¢è¡Œç¨‹å¡è¡¨å–®
 å…«å¤§ç¨®é¡ä¸‹æ‹‰é¸å–®
 Google åœ°åœ–é€£çµè¼¸å…¥
3. å¯©æ ¸é€šéå¾Œç·¨è¼¯èˆ‡å„ªæƒ åˆ¸è¨­å®š âœ… å¾Œç«¯å·²å®Œæˆ
å¾Œç«¯ APIï¼š

PATCH /api/merchant/places/:id              # ç·¨è¼¯è¡Œç¨‹å¡
POST /api/merchant/places/:id/coupons       # æ–°å¢å„ªæƒ åˆ¸
PATCH /api/merchant/coupons/:id             # ç·¨è¼¯å„ªæƒ åˆ¸
DELETE /api/merchant/coupons/:id            # åˆªé™¤å„ªæƒ åˆ¸
å„ªæƒ åˆ¸çµæ§‹ï¼š

interface MerchantCoupon {
  id: number;
  tier: 'SP' | 'SSR' | 'SR' | 'S' | 'R';
  name: string;
  content: string;
  terms?: string;
  quantity?: number;
  validUntil?: string;
  isActive: boolean;
}
æª¢æŸ¥é …ç›®ï¼š

 è¡Œç¨‹å¡ç·¨è¼¯é ï¼ˆå¯©æ ¸é€šéå¾Œå¯è¦‹ï¼‰
 å„ªæƒ è³‡è¨Šç·¨è¼¯
 å„ªæƒ åˆ¸åˆ—è¡¨ CRUD
 å•Ÿç”¨/åœç”¨é–‹é—œ
4. å•†å®¶è³‡æ–™é é¢ âœ… å¾Œç«¯å·²å®Œæˆ
å¾Œç«¯ APIï¼š

GET /api/merchant/me
PATCH /api/merchant/profile
æª¢æŸ¥é …ç›®ï¼š

 å•†å®¶è³‡æ–™æª¢è¦–é 
 ç·¨è¼¯åŠŸèƒ½
5. å•†å“ç®¡ç†ï¼ˆé–‹ç™¼ä¸­ï¼‰ âš ï¸ å¾…é–‹ç™¼
å‰ç«¯éœ€å¯¦ç¾ï¼š

// æš«æ™‚é¡¯ç¤ºã€Œé–‹ç™¼ä¸­...ã€
<View style={styles.placeholder}>
  <Text>ğŸš§ é–‹ç™¼ä¸­...</Text>
</View>
6. å•†å®¶ç™»å‡º âœ… å¾Œç«¯å·²å®Œæˆ
æª¢æŸ¥é …ç›®ï¼š

 ç™»å‡ºå¾Œè·³å›åˆå§‹é é¢
7. è³¼è²·é é¢èˆ‡æ¬Šé™ç³»çµ± âš ï¸ éœ€å‰ç«¯å¯¦ç¾
å¾Œç«¯ APIï¼š

GET /api/merchant/subscription/plans
POST /api/merchant/subscription/upgrade
ç­‰ç´šèªªæ˜ï¼š

// å•†å®¶ç­‰ç´š
const MERCHANT_LEVELS = {
  free: { maxCards: 1, analytics: false },
  pro: { maxCards: 5, analytics: true },
  premium: { maxCards: 20, analytics: true },
};
// è¡Œç¨‹å¡ç­‰ç´š
const CARD_LEVELS = {
  free: { 
    frame: false, 
    promoEditable: false, 
    maxCoupons: 1,
    couponTiers: ['R'],
  },
  pro: { 
    frame: true, 
    promoEditable: true, 
    maxCoupons: 5,
    couponTiers: ['SSR', 'SR', 'S', 'R'],
  },
  premium: { 
    frame: true, 
    promoEditable: true, 
    maxCoupons: 10,
    couponTiers: ['SP', 'SSR', 'SR', 'S', 'R'],
    specialEffect: true,
  },
};
æª¢æŸ¥é …ç›®ï¼š

 è³¼è²·/å‡ç´šé é¢
 æ–¹æ¡ˆæ¯”è¼ƒè¡¨
 æ ¹æ“šç­‰ç´šé™åˆ¶åŠŸèƒ½
âœ… å®Œæˆæª¢æŸ¥æ¸…å–®ç¸½è¦½
åŠŸèƒ½	å¾Œç«¯	å‰ç«¯
å…¬å‘Šç³»çµ±	âœ…	éœ€å¯¦ç¾
å¿«é–ƒ/ç¯€æ—¥æ´»å‹•	âœ…	éœ€å¯¦ç¾
é¦–é ç§»é™¤æ–‡å­—	-	éœ€å¯¦ç¾
æ‰­è›‹æ­¡è¿èª	-	éœ€å¯¦ç¾
åœ‹å®¶/åŸå¸‚ä¸‹æ‹‰	âœ…	éœ€ç¢ºèª
è¡Œç¨‹æ•¸é‡æ–‡å­—	-	éœ€å¯¦ç¾
æŸ¥çœ‹çæ± 	âœ…	éœ€å¯¦ç¾
ADMOB å»£å‘Š	éœ€æ–°å¢	éœ€å¯¦ç¾
å„ªæƒ åˆ¸æ©Ÿåˆ¶	âœ…	éœ€ç¢ºèª
åœ–é‘‘åŠŸèƒ½	âœ…	éœ€ç¢ºèª/æ“´å±•
å„ªæƒ åˆ¸æ ¸éŠ·	âœ…	éœ€å¯¦ç¾
æœªè®€ç´…é»	âœ…	éœ€å¯¦ç¾
åœ–é‘‘æ‘ºé é¸å–®	âœ…	éœ€å¯¦ç¾
é“å…·ç®± 30 æ ¼	âœ…	éœ€å¯¦ç¾
éæœŸå„ªæƒ åˆ¸ç°è‰²	âœ…	éœ€å¯¦ç¾
å„ªæƒ åˆ¸ç­‰ç´šç‰¹æ•ˆ	âœ…	éœ€å¯¦ç¾
å€‹äººè³‡æ–™	âœ…	éœ€å¯¦ç¾
ç™»å‡º	âœ…	éœ€ç¢ºèª
èªè¨€åˆ‡æ›	âœ…	éœ€ç¢ºèª
SOS æ±‚æ•‘	âœ…	éœ€å¯¦ç¾
å´é‚Šéµ 5 ä¸‹	-	éœ€å¯¦ç¾
è³¼è²·æœå‹™	âœ…	éœ€ç¢ºèª
ä¼æ¥­ç«¯â†’å•†å®¶ç«¯	-	éœ€å¯¦ç¾
å•†å®¶è¨»å†Š	âœ…	éœ€å¯¦ç¾
è¨˜æ†¶å¸³å¯†	-	éœ€å¯¦ç¾
å•†å®¶æ•¸æ“šåˆ†æ	âš ï¸ éœ€æ“´å±•	éœ€å¯¦ç¾
è¡Œç¨‹å¡ç®¡ç†	âœ…	éœ€å¯¦ç¾
å„ªæƒ åˆ¸è¨­å®š	âœ…	éœ€å¯¦ç¾
è³¼è²·/æ¬Šé™	âœ…	éœ€å¯¦ç¾